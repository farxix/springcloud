<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>任务</title>
    <link href="assets/css/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="assets/css/lib/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/lib/bootstrap-table.min.css" rel="stylesheet">
    <link href="assets/css/lib/bootstrap-select.min.css" rel="stylesheet" />
    <link href="assets/css/lib/bootstrap-datetimepicker.css" rel="stylesheet" />
    <link href="assets/css/lib/sweetalert/sweetalert.css" rel="stylesheet" />
    <link href="assets/js/lib/layui/css/layui.css" rel="stylesheet" >
    <link href="assets/css/style.css" rel="stylesheet"/>
    <link href="assets/css/commonSupply.css" rel="stylesheet"/>
    <link href="assets/css/task.css" rel="stylesheet"/>
</head>
<body style="background: #fff">
<!--任务首页 start -->
<div id="mainPanel">
    <ul id="myTab" class="nav nav-tabs">
        <li class="active"><a href="#todo" data-toggle="tab">待办任务</a></li>
        <li><a href="#his" data-toggle="tab">历史任务</a></li>
    </ul>
    <div id="myTabContent" class="tab-content" style="padding-bottom: 20px">
        <div class="tab-pane fade in active" id="todo">
            <div id="todoTaskList" class="taskList"></div>
        </div>
        <div class="tab-pane fade" id="his">
            <div id="hisTaskList" class="taskList"></div>
        </div>
        <div class="showMore">加载更多…</div>
    </div>
</div>
<!--任务首页 end -->

<!--任务详情页 start -->
<div id="detailPanel" style="display: none">
    <div class="panel" style="margin-bottom: 0">
        <div class="panel-heading" id="detailTaskHead">20200820工作报告</div>
        <ul class="nav nav-tabs">
            <li class="active"><a href="#taskDetail" data-toggle="tab">任务详情</a></li>
            <li><a href="#flowNode" data-toggle="tab" onclick="setTimeout(task.resetFlowChartHeight,500)">流程节点</a></li>
        </ul>
        <div class="tab-content" style="padding: 0 20px 20px 20px">
            <div class="tab-pane fade in active" id="taskDetail" style="padding-top: 0">
                <div id="taskBaseInfo">
                    <label class="detailLabel">任务基本信息</label>
                    <div class="panel-border">
                        <div style="margin-bottom: 5px">
                            <label class="common-label">任务标题：</label>
                            <span class="detailInfoItem" ><input id="taskName" name="taskBaseInfo" readonly></span>

                            <label class="common-label">创建人：</label>
                            <span class="detailInfoItem"><input id="createBy" name="taskBaseInfo" readonly></span>

                            <label class="common-label">创建时间：</label>
                            <span class="detailInfoItem"><input id="createTime" name="taskBaseInfo" readonly></span>

                            <label class="common-label">状态：</label>
                            <span class="detailInfoItem"><input id="taskStatusName" name="taskBaseInfo" readonly></span>
                        </div>
                        <div>
                            <label class="common-label">任务类型：</label>
                            <span class="detailInfoItem"><input id="taskType" name="taskBaseInfo" readonly></span>

                            <label class="common-label">完成期限：</label>
                            <span class="detailInfoItem"><input id="deadline" name="taskBaseInfo" readonly></span>

                            <label class="common-label">超时状态：</label>
                            <span class="detailInfoItem"><input id="overtime" name="taskBaseInfo" readonly></span>
                        </div>
                    </div>
                </div>
                <div id="taskPersonInfo">
                    <label class="detailLabel">任务所属人信息</label>
                    <div class="panel-border">
                        <div style="margin-bottom: 5px">
                            <label class="common-label">姓名：</label>
                            <span class="detailInfoItem"><input id="name" name="ownerInfo" readonly></span>

                            <label class="common-label">所属组织：</label>
                            <span class="detailInfoItem"><input id="org" name="ownerInfo" readonly></span>

                            <label class="common-label">所属项目：</label>
                            <span class="detailInfoItem"><input id="company" name="ownerInfo" readonly></span>
                        </div>
                        <div>
                            <label class="common-label">职位：</label>
                            <span class="detailInfoItem"><input id="position" name="ownerInfo" readonly></span>
                        </div>
                    </div>
                </div>
                <div id="taskApprovalInfo">
                    <label class="detailLabel">审批信息</label>
                    <div class="panel-border">
                        <div style="margin-bottom: 5px">
                            <label class="common-label">审批时间：</label>
                            <span class="detailInfoItem"><input id="approveTime" name="approveInfo" readonly></span>

                            <label class="common-label">审批人：</label>
                            <span class="detailInfoItem"><input id="approverName" name="approveInfo" readonly></span>

                            <label class="common-label">审批结果：</label>
                            <span class="detailInfoItem"><input id="approveStatus" name="approveInfo" readonly></span>
                        </div>
                        <div>
                            <label class="common-label">审批意见：</label>
                            <textarea id="approveRemarks" name="approveInfo" readonly ></textarea>
                        </div>
                    </div>
                </div>
                <div id="taskContentInfo">
                    <label class="detailLabel">工作内容信息</label>
                    <div>
                        <label class="common-label">工作量：</label>
                        <span class="detailInfoItem" id="totalWorkload">0</span>
                    </div>
                    <table id="taskContentTable"></table>
                </div>
                <div id="personInfo">
                    <label class="detailLabel">人员信息</label>
                    <div class="panel-border">
                        <div style="color: #333;font-size: 16px;">发起人
                            <label class="common-label" style="text-align: left;width: auto;color: #4F9FFF" id="taskCreatorTime"></label>
                        </div>
                        <label class="common-label" style="width: 100%;text-align: left" id="taskCreatorName">发起人：</label>
                        <div style="color: #333;font-size: 16px;">审批人
                            <label class="common-label" style="text-align: left"></label>
                        </div>
                        <label class="common-label" style="width: 100%;text-align: left" id="taskApproverName">审批人：</label>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade " id="flowNode" style="padding-top: 0">
                <div id="taskBaseInfo2">
                    <label class="detailLabel">任务基本信息</label>
                    <div class="panel-border">
                        <div>
                            <label class="common-label">任务标题：</label>
                            <span class="detailInfoItem" ><input id="taskName2" name="taskBaseInfo" readonly></span>

                            <label class="common-label">创建人：</label>
                            <span class="detailInfoItem" ><input id="createBy2" name="taskBaseInfo" readonly></span>

                            <label class="common-label">创建时间：</label>
                            <span class="detailInfoItem" ><input id="createTime2" name="taskBaseInfo" readonly></span>

                            <label class="common-label">状态：</label>
                            <span class="detailInfoItem" ><input id="taskStatusName2" name="taskBaseInfo" readonly></span>
                        </div>
                        <div>
                            <label class="common-label">任务类型：</label>
                            <span class="detailInfoItem" ><input id="taskType2" name="taskBaseInfo" readonly></span>

                            <label class="common-label">完成期限：</label>
                            <span class="detailInfoItem" ><input id="deadline2" name="taskBaseInfo" readonly></span>

                            <label class="common-label">超时状态：</label>
                            <span class="detailInfoItem" ><input id="overtime2" name="taskBaseInfo" readonly></span>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="detailLabel">流程节点展示图</label>
                    <div class="panel-border" style="margin-bottom: 20px;">
                        <div id="flowChart" class="hFlowBar"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel-footer text-center">
            <button id="taskCloseBtn" class="btn_default " type="button">关闭</button>
            <button id="taskSubmitBtn" class="btn_default active" type="button">提交</button>
            <button id="taskRejectBtn" data-type="2" class="btn_default" type="button" style="background: #ff7475;color: #fff">拒绝</button>
            <button id="taskApproveBtn" data-type="3" class="btn_default" type="button" style="background: #00dea3;color: #fff">同意</button>
        </div>
    </div>
</div>
<!--任务详情页 end -->

<div class="modal fade" id="approvalDialog" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog" style="width: 400px">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <div class="modal-title">审批意见</div>
            </div>
            <div class="modal-body">
                <label for="dialogApproveMessage" class="common-label" style="vertical-align: top">审批意见：</label>
                <textarea id="dialogApproveMessage" class="form-control" maxlength="500"></textarea>
            </div>
            <div class="modal-footer">
                <button id="dialogTaskRejectBtn" class="btn" type="button" onclick="task.submitApprove(3)">拒绝</button>
                <button id="dialogTaskApproveBtn" class="btn" type="button"  onclick="task.submitApprove(2)">同意</button>
            </div>
        </div>
    </div>
</div>

</body>
<script src="assets/js/lib/jquery.js"></script>
<script src="assets/js/lib/bootstrap/bootstrap.min.js" ></script>
<script src="assets/js/lib/bootstrap/Bootstrap-table/bootstrap-table.js" ></script>
<script src="assets/js/lib/bootstrap/Bootstrap-table/bootstrap-table-zh-CN.js"></script>
<script src="assets/js/lib/bootstrap/bootstrap-datetimepicker/bootstrap-datetimepicker.js"></script>
<script src="assets/js/lib/bootstrap/bootstrap-datetimepicker/bootstrap-datetimepicker.zh-CN.js"></script>
<script src="assets/js/lib/bootstrap/bootstrap-select.js"></script>
<script src="assets/js/lib/layui/layui.all.js"></script>
<script src="assets/js/apiConfig.js" type="text/javascript"></script>
<script src="assets/js/lib/CryptoJS/rollups/aes.js"></script>
<script src="assets/js/lib/CryptoJS/components/mode-ecb.js"></script>
<script src="assets/js/lib/CryptoJS/components/pad-nopadding.js"></script>
<script src="assets/js/lib/sweetalert/sweetalert.min.js" ></script>
<script src="assets/js/lib/toastr/toastr.min.js"></script>
<script src="assets/js/configurationView/taskIndex.js" type="text/javascript"></script>

</html>