<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>绩效管理</title>
    <link href="assets/css/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="assets/css/lib/themify-icons.css" rel="stylesheet" />
    <link href="assets/css/lib/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/lib/bootstrap-table.min.css" rel="stylesheet">
    <link href="assets/css/lib/bootstrap-table-reorder-rows.css" rel="stylesheet" />
    <link href="assets/css/lib/bootstrap-select.min.css" rel="stylesheet" />
    <link href="assets/css/lib/bootstrap-datetimepicker.min.css" rel="stylesheet" />

    <link href="assets/css/lib/toastr/toastr.min.css" rel="stylesheet" />
    <link href="assets/css/common/cascader.css" rel="stylesheet"/>
    <link href="assets/css/style.css" rel="stylesheet"/>

    <link href="assets/css/layoutit/custom.css" rel="stylesheet" />
    <link href="assets/js/lib/miniui/themes/default/miniui.css" rel="stylesheet">
    <link href="assets/js/lib/miniui/themes/default/miniui2.css" rel="stylesheet">
    <link href="assets/js/lib/miniui/themes/icons.css" rel="stylesheet">
    <link href="assets/js/lib/miniui/themes/blue2010/skin.css" rel="stylesheet">
    <link href="assets/css/lib/sweetalert/sweetalert.css" rel="stylesheet" />

    <link rel="stylesheet" href="assets/css/lib/ladda/ladda-themeless.min.css">
    <link href="assets/css/personConfig/settings-new.css" rel="stylesheet" />
    <style>
      .font{
          font-size:14px;
          color:#333333;
      }
      .list_items_add{
          border-radius: 5px;
          width:80px;
          height:80px;
          display:flex;
          justify-content: center;
          align-items: center;
          cursor: pointer;

      }
      .list_items_img{
          background: #4F9FFF;
          border-radius: 5px;
          width:80px;
          height:80px;
          display:flex;
          justify-content: center;
          align-items: center;

      }
      .list_items_img1{
          background: #EDEDED;
          border-radius: 5px;
          width:80px;
          height:80px;
          display:flex;
          justify-content: center;
          align-items: center;

      }
      .list_items_img img{
          width: 38px;
          height: 38px;
      }
      .modal-backdrop{
          z-index: 1 !important;
      }
      .has-error span.error{
        left: 0;
      }
    </style>

</head>
<body  style="width: 100%;height: 100%;background: #FFFFFF;" class="iframe-body">

<div class="list-wrap ">
    <div style="height:50px;line-height:50px;margin-left:20px;border-bottom:1px solid #ddd;">
        <span class="font">绩效管理</span>
    </div>
    <div id="meritsList">
    </div>
</div>

<div class="form-wrap fn-hide" style="padding-bottom: 20px;">
    <div class="ibox-content">
        <h4>公共部分</h4>
        <hr>
        <div id="common" class="detail-info"></div>
        <hr>
        <h4>绩效部分</h4>
        <hr>
        <div id="deploy" class="detail-info"></div>
    </div>
    <div id="footer" class="footer" style="text-align: center">
        <button type="button" data-style="zoom-in" class="ladda-button btn dialog-btn dialog-confirm-btn" id="save">保存</button>&nbsp;&nbsp;
        <button type="button" class="btn dialog-btn dialog-return" id="goback">关闭</button>
    </div>
</div>


<!--点击新增任务弹出模态框-->
<div class="modal fade"  id="task_modal"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog" style="width: 372px">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">新增任务</h4>
            </div>
            <div class="modal-body" style="height:160px;overflow: auto">
                <ul>
                    <li class="first">工作绩效</li>
                    <li class="second">更多模版</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!--选择任务派发对象弹出模态框-->
<div class="modal fade"  id="distribute_modal"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog" style="width: 372px">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">选择考评对象</h4>
            </div>
            <div class="modal-body" style="height:160px;overflow: auto">
                <div class="row">
                      <label class=" control-label col-sm-2" style="width:84px;">选择方式:</label>
                      <div class="col-sm-7" style="padding:0">
                          <div><input type="radio" name="checkgroup" value="1"  /> 指定范围 </div>
                          <div style="margin-top:10px;"><input type="radio" name="checkgroup" value="2"/> 指定成员 </div>
                      </div>
                      <div class="col-sm-3"></div>
                </div>
                <div class="row selectScope" style="margin-top:10px;" >
                      <label class=" control-label col-sm-3" style="width:84px;">选择范围:</label>
                      <div class="col-sm-9">
                          <span id="selectObject"  class="setting overflow"  style="display: none;margin-right:10px;"></span><span  class="setting"  id="setting4" style="color:#4F9FFF;cursor: pointer;overflow:hidden;display: inline-block;">选择范围</span>
                          <div style="margin-left:-12px;margin-top:10px;"><input type="checkbox" name="vehicle" value="" id="whetherDistributePartyA"/> 不包含甲方人员</div>
                      </div>
                </div>
                <div class="row fn-hide selectMembers" style="margin-top:10px;">
                      <label class=" control-label col-sm-3" style="width:84px;">指定成员:</label>
                      <div class="col-sm-9">
                          <span  id="selectMember"  class="setting overflow"  style="display: none;margin-right: 10px;" ></span><span  class="setting" id="setting5" style="color:#4F9FFF;cursor: pointer;overflow:hidden;display: inline-block;">选择成员</span>
                      </div>
                </div>
            </div>
            <div class="modal-footer" style="margin: 0 10px">
                <button type="button" class="btn dialog-btn" data-dismiss="modal" aria-hidden="true">取消</button>
                <button type="button" class="ladda-button btn dialog-btn dialog-confirm-btn" id="distributeSelectedBtn" data-style="zoom-in">确定</button>
            </div>
        </div>
    </div>
</div>



<!--选择审批人弹出模态框-->
<div class="modal fade"  id="approval_modal"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog" style="width: 372px">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">选择考评人员</h4>
            </div>
            <div class="modal-body" style="height:160px;overflow: auto">
                <div class="row">
                      <label class=" control-label col-sm-2" style="width:84px;">选择方式:</label>
                      <div class="col-sm-7" style="padding:0">
                          <div><input type="radio" name="checkgroup1" value="1"  /> 指定成员 </div>
                          <div style="margin-top:10px;"><input type="radio" name="checkgroup1" value="2"/> 主管 </div>
                      </div>
                      <div class="col-sm-3"></div>
                </div>
                <div class="row  approval1" style="margin-top:10px;">
                      <label class=" control-label col-sm-3" style="width:84px;">指定成员:</label>
                      <div class="col-sm-9">
                          <span id="approvalMember"  class="setting overflow" style="display: none;margin-right: 10px;" ></span><span  class="setting" id="setting6" style="color:#4F9FFF;cursor: pointer;overflow:hidden;display: inline-block;">选择成员</span>
                      </div>
                </div>
                <div class="row approval2 fn-hide" style="margin-top:10px;" >
                      <label class=" control-label col-sm-3" style="width:84px;">考评人员:</label>
                      <div class="col-sm-9">
                          <span id="approvalManger" style="display: inline-block;margin-right:10px;" class="overflow">直接主管</span>
                          <div style="margin-left:-12px;margin-top:10px;"><input type="checkbox" name="vehicle" value="" id="whetherInsteadAudit"/> 主管为空时由上级主管代批</div>
                      </div>
                </div>

            </div>
            <div class="modal-footer" style="margin: 0 10px">
                <button type="button" class="btn dialog-btn" data-dismiss="modal" aria-hidden="true">取消</button>
                <button type="button" class="ladda-button btn dialog-btn dialog-confirm-btn" id="memberSubmit" data-style="zoom-in">确定</button>
            </div>
        </div>
    </div>
</div>
<!--选择范围-->
<div class="modal fade transparentBg animated fadeInDown" id="org_modal"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog" style="width:50%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="addPeople">选择组织</h4>
            </div>
            <div class="modal-body">
                    <div  id="selectedDepTree" style="overflow-y: auto;height:280px;font-size: 12px;"></div>

            </div>
            <div class="modal-footer" style="margin-top:50px;">
                <button type="button" id="people_close" class="btn dialog-btn" data-dismiss="modal">返回</button>
                <button type="button" class="ladda-button btn dialog-btn dialog-confirm-btn" id="orgSubmit" data-style="zoom-in">确定</button>
            </div>
        </div>
    </div>
</div>



</body>
<script type="text/javascript">
    Global ={};
</script>
<!-- Mainly scripts -->
<script src="assets/js/lib/jquery.js"></script>
<script src="assets/js/lib/bootstrap/jquery.tablednd.min.js" ></script>
<script src="assets/js/lib/bootstrap/bootstrap.min.js" ></script>
<script src="assets/js/lib/bootstrap/Bootstrap-table/bootstrap-table.js" ></script>
<script src="assets/js/lib/bootstrap/Bootstrap-table/bootstrap-table-zh-CN.js"></script>
<script src="assets/js/lib/bootstrap/bootstrap-datetimepicker/bootstrap-datetimepicker.js"></script>
<script src="assets/js/lib/bootstrap/bootstrap-datetimepicker/bootstrap-datetimepicker.zh-CN.js"></script>
<script src="assets/js/lib/bootstrap/Bootstrap-table/bootstrap-table-reorder-rows.js"></script>
<script src="assets/js/lib/bootstrap/bootstrap-treeview.js"></script>
<script src="assets/js/lib/bootstrap/bootstrap-modal.js" ></script>
<script src="assets/js/lib/bootstrap/bootstrap-dialog/js/bootstrap-dialog.js"></script>
<script src="assets/js/lib/webuploader/dist/webuploader.js" ></script>
<!--<script src="assets/js/swfuploadHandle.js" ></script>-->
<script src="assets/js/lib/jquery.tmpl.min.js"></script>
<script src="assets/js/toolUtil.js"></script>
<script src="assets/js/apiConfig.js"></script>
<script src="assets/js/lib/CryptoJS/rollups/aes.js"></script>
<script src="assets/js/lib/CryptoJS/components/mode-ecb.js"></script>
<script src="assets/js/lib/CryptoJS/components/pad-nopadding.js"></script>
<script src="assets/js/lib/bootstrap/bootstrap-select.js"></script>
<script src="assets/js/lib/miniui/miniui.js" ></script>
<script src="assets/js/uitoolUtil.js" ></script>
<script src="assets/js/swfuploadHandle.js" ></script>

<script src="assets/js/lib/ladda/spin.min.js"></script>
<script src="assets/js/lib/ladda/ladda.min.js"></script>
<script src="assets/js/lib/ladda/ladda.jquery.min.js"></script>

<script src="assets/js/lib/sweetalert/sweetalert.min.js" ></script>
<script src="assets/js/lib/toastr/toastr.min.js"></script>
<script src="assets/js/formValidate.js"></script>
<script src="assets/js/itsmGroupPerson.js"></script>
<script src="assets/js/configurationView/merits.js"></script>

<!--公共部分-->
<script type="text/x-jquery-tmpl" id="common-template">
     <input id="id" type="hidden" class="form-control"  value={{= id}} >
     <div class="row">
             <div class="form-group">
                 <label class=" control-label col-sm-3">绩效名称:</label>
                 <div class="col-sm-3"><input id="perfPrototypeName" type="text" class="form-control" autocomplete="off" value={{= perfPrototypeName}}></div>
                 <div class="col-sm-6"></div>
             </div>
      </div>
      <div class="row">
              <div class="form-group">
                  <label class=" control-label col-sm-3">绩效模版:</label>
                  <div class="col-sm-3"><span class="setting"  id="perfTemplateId" style="display: inline-block;height:34px;">工作绩效</span><span id="setting" style="color:#4F9FFF;cursor: pointer;display:none">修改</span></div>
                  <div class="col-sm-6"></div>
              </div>
       </div>
       <div class="row">
               <div class="form-group">
                   <label class=" control-label col-sm-3">状态:</label>
                   <div class="col-sm-3">
                           <select class="form-control" id="perfPrototypeStatus">
                               <option>启用</option>
                               <option>禁用</option>
                           </select>
                     </div>
                   <div class="col-sm-6"></div>
               </div>
        </div>
        <div class="row">
                <div class="form-group">
                    <label class=" control-label col-sm-3">派发周期:</label>
                    <div class="col-sm-3">
                        <select class="form-control" id="perfTriggerPeriod">
                            <option>每月</option>
                            <option>每季</option>
                            <option>每年</option>
                        </select>
                    </div>
                    <div class="col-sm-6"></div>
                </div>
         </div>
         <div class="row">
                 <div class="form-group">
                     <label class=" control-label col-sm-3">开始日期:</label>
                     <div class="col-sm-3"><input name="startTm" id="perfStartDate" type='text' class="form-control date-picker"  readonly="readonly"  value={{= perfStartDate}} ></div>
                     <div class="col-sm-6"><input type="checkbox" name="vehicle" value="" id="whetherTriggerRestdays"/> 不包含休息日(休息日在根据考勤管理设置)</div>
                 </div>
          </div>
          <div class="row">
                  <div class="form-group">
                      <label class=" control-label col-sm-3">完成期限(天):</label>
                      <div class="col-sm-3"><input id="deadFinishDays" type="text" class="form-control" autocomplete="off"  value={{= deadFinishDays}} ></div>
                      <div class="col-sm-6"> <input type="checkbox" name="vehicle" value="" id="whetherRestdaysCalculated"/> 完成期限跳过休息日</div>
                  </div>
           </div>
          <div class="row">
              <div class="form-group">
                <span style="color:red">*</span> 勾选时，如果派发任务到完成期限中包含休息日， 则将不计算休息日的时间完成期限。
              </div>
          </div>

</script>
<!--报告配置-->
<script type="text/x-jquery-tmpl" id="deploy-template">
     <div class="row">
             <div class="form-group">
                 <label class=" control-label col-sm-3" style="width:108px;">考评对象:</label>
                 <div class="col-sm-9" id="perfHandlerConfigStyle" data-perfHandlerConfigStyle={{= perfHandlerConfigStyle}} data-whetherDistributePartyA={{= whetherDistributePartyA}}>
                     <span id="handlerConfig" style={{if  perfHandlerConfigItems}}"display: inline-block"{{else}}"display: none"{{/if}}  class="setting" {{if perfHandlerConfigItems}}data-source={{= _perfHandlerConfigItems}}{{/if}}>{{= handlers}}</span><span id="setting2" class="setting" style="color:#4F9FFF;cursor: pointer;">设置</span>
                     <span class="error fa fa-exclamation-circle fn-hide" >考评对象不能为空！</span>
                 </div>
             </div>
          </div>
      </div>
      <div class="row">
              <div class="form-group">
                  <label class=" control-label col-sm-3" style="width:108px;">考评人员:</label>
                  <div class="col-sm-9" id="perfAuditorConfigStyle" data-perfAuditorConfigStyle={{= perfAuditorConfigStyle}} data-whetherInsteadAudit={{= whetherInsteadAudit}}>
                      <span id="auditorConfig" style={{if perfAuditorConfigItems}}"display: inline-block"{{else}}"display: none"{{/if}}  class="setting" {{if perfAuditorConfigItems}}data-source={{= _perfAuditorConfigItems}}{{/if}}>{{= auditors}}</span><span id="setting3" class="setting" style="color:#4F9FFF;cursor: pointer;">设置</span>
                      <span class="error fa fa-exclamation-circle fn-hide" >考评人员不能为空！</span>
                  </div>
              </div>
           </div>
       </div>

</script>

<!--绩效列表-->
<script type="text/x-jquery-tmpl" id="merits-template">
    {{each data}}
        <div class="list_items list_items_edit" id={{= id}}>
            <div class="del" title="删除"><i class="fa  fa-trash-o" aria-hidden="true"></i></div>
            <div class={{if perfPrototypeStatus == 1}}"edit list_items_img"{{else}}"edit list_items_img1"{{/if}} title="编辑">
                <img src="assets/images/jixiao.png" alt="">
            </div>
            <span style="font-size: 14px;color: #999999;margin-top:20px;" class="overflow" title={{= perfPrototypeName}}>{{= perfPrototypeName}}</span>
        </div>
    {{/each }}
    <div class="list_items" id="addTask">
        <div class="list_items_add">
            <img src="assets/images/new.png" alt="" class="">
        </div>
        <span style="font-size: 14px;color: #999999;margin-top:20px;"></span>
    </div>
</script>



</html>
